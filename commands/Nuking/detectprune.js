const{Client:Client,Message:Message,MessageEmbed:MessageEmbed}=require("discord.js-selfbot"),{send:send}=require("../../Utility/functions");module.exports={name:"detectprune",aliases:["fetchprune","dprune","fprune","checkrpune"],description:"Shows All Possible Prunes Detecting!",run:async(e,s,n)=>{try{const{guild:n}=s;if(!n.me.permissions.has("KICK_MEMBERS"))return await s.channel.send("Missing **`KICK_MEMBERS`** Permission!");const r=(new MessageEmbed).setColor(e.color).setFooter(`Made by ${e.owner.tag}`,e.owner.displayAvatarURL({dynamic:!0})),t=await n.roles.fetch(),a=await n.members.prune({days:1,reason:"Prooned by Bhuvnesh!",dry:!0,roles:[...t.cache.map((e=>e.id))]}).catch((()=>{}));r.setDescription(`**${a}** Prunes Detected!`),await send(s,r,e)}catch(e){throw new Error(e)}}};