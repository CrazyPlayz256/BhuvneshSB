const{Client:Client,Message:Message,MessageEmbed:MessageEmbed}=require("discord.js-selfbot"),{send:send}=require("../../Utility/functions");module.exports={name:"help",description:"Help Command for Bhuvnesh Selfbot!",run:async(e,n,o)=>{try{const a=(new MessageEmbed).setColor(e.color).setFooter(`Made by ${e.owner.tag}`,e.owner.displayAvatarURL({dynamic:!0})),{prefix:s}=e,t=[...new Set(e.commands.map((e=>e.directory)))].map((n=>{const o=e.commands.filter((e=>e.directory===n)).map((({name:e,description:n})=>({name:e,description:n})));return{name:n,commands:o}})),m=o[0];if(m){const o=t.find((e=>e.name.toLowerCase()===m.toLowerCase()));return o?(a.setDescription(`**Total ${o.name} Commands: ** **\`${o.commands.length}\`**`),a.addField(`**__${o.name}__**`,`${[...o.commands.map((({name:e,description:n})=>`**\`${e}\`** - ${n}`))].join("\n")}`),await send(n,a,e)):(a.setAuthor("Bhuvneh Selfbot!"),a.setTitle(`Unknown Category: **\`${m}\`**`),a.setDescription(`**Total Commands: ** **\`${e.commands.size}\`**`),a.addField("**__Categories!__**",`${[...t.map((({name:e,commands:n})=>`**\`${e}\`** - **\`${n.length}\`** Commands`))].join("\n")}\n\n**\`${s}help [category]\`** for more!`),await send(n,a,e))}a.setAuthor("Bhuvneh Selfbot!"),a.setDescription(`**Total Commands: ** **\`${e.commands.size}\`**`),a.addField("**__Categories!__**",`${[...t.map((({name:e,commands:n})=>`**\`${e}\`** - **\`${n.length}\`** Commands`))].join("\n")}\n\n**\`${s}help [category]\`** for more!`),await send(n,a,e)}catch(e){throw new Error(e)}}};